### CDN原理
![](images/QQ20160815-0@2x.png)

1. 用户向浏览器输入`images.frim-x.com`这个域名，浏览器第一次发现本地没有dns缓存，则向网站的DNS服务器请求。①
2. 网站的DNS域名解析器设置了`CNAME`，指向了`firm-x.cname.cdn.com`,请求指向了CDN网络中的智能DNS负载均衡系统。②
3. 智能CDN's DNS服务器，接收到请求之后，会根据用户IP找到最匹配的一项，并且计算距离这个用户最近的Edge服务器，将这个最优点的IP返回给用户。③④
5. 用户向该IP节点（CDN服务器）发出请求。由于是第一次访问，CDN服务器会向原web站点请求，并缓存内容。请求结果发给用户。⑤

这里的加速的核心点就是这个智能路由，它负责把用户引到最优的服务器。
